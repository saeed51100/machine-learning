I am developing a time-series classification pipeline in Python (Jupyter Notebook) to identify Forex price trend regimes based on historical price data.
The dataset consists of approximately 170,000 rows of Forex OHLCV data on the H1 (hourly) timeframe, with the following characteristics:
* Dataset Description
     The dataset contains a 'CLOSE' price column and a corresponding 'Label' column that indicates price trend events with three classes:
        0 → No meaningful trend (sideways / flat movement)
        1 → Bullish trend
        2 → Bearish trend

I have implemented a labeling algorithm that assigns these labels based on price movements.
However, the current logic is not sufficiently sensitive and fails to detect smaller or shorter-lived trends.

* Request:
Please modify or improve my existing labeling code to increase its sensitivity so that smaller trend movements are detected, while still avoiding excessive noise or over-labeling.

// my code
